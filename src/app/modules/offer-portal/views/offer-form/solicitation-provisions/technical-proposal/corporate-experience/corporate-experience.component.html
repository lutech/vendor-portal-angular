<accordion [isAnimated]="true" [closeOthers]="false">
    <app-form-accordion
        *ngIf="true"
        [config]="{ 
            title: section.title, 
            sectionStatus: section.sectionStatus, 
            parentOfferStatus: section.offerStatus, 
            isStickyTop: true, 
            showSection: section.showSection
        }"  
    >
        <ng-template #formAccordionHeader>
            <div class="flex-fill">
                <h3 class="h5">{{ section.title }}</h3>
            </div>
            <button *ngIf="offerStatus == 'In Progress'" type="button" class="btn btn-light gsa-light-blue bg-primary-hover mr-4 py-1" (click)="openModal()" appStopClickPropagation>
                <span class="fa fa-pencil mr-2"></span>
                Edit
            </button>
            
            <span *ngIf="offerStatus == 'Awarded'" class="btn-group" dropdown>
                <button id="button-manage" dropdownToggle type="button" class="btn btn-light gsa-light-blue bg-primary-hover mr-4 py-1 dropdown-toggle"
                    aria-controls="dropdown-manage" appStopClickPropagation>
                    <span class="gsa-light-blue">Actions</span>
                    <span class="caret"></span>
                </button>
                <ul id="dropdown-manage" *dropdownMenu class="dropdown-menu dropdown-menu-right" role="menu"
                    aria-labelledby="button-basic">
                    <li role="menuitem"><a class="dropdown-item" (click)="openModal()">Create New Modification</a></li>
                    <li role="menuitem"><a class="dropdown-item" (click)="openModHistoryModal()">View Modification History</a></li>
                    <li role="menuitem"><a class="dropdown-item">Show Clarification History</a></li>
                </ul>
            </span>
        </ng-template>
        <ng-template #formAccordionBody>
            <ng-container [ngTemplateOutlet]="readonlySection"></ng-container>
        </ng-template>
    </app-form-accordion>
</accordion>


<!-- Readonly Section -->
<ng-template #readonlySection> 
<div class="d-flex mb-3">
    <dt class="mr-2">(A)</dt>
    <dd class="flex-fill m-0">
        <p>
            The number of years of corporate experience in providing the products/services described under this Schedule, regardless
            of the specific products/services being proposed - a minimum of two (2) years of corporate experience is required.
        </p>
        <div class="d-flex">
            <dd class="mr-4">
                <strong>
                    N/A
                </strong>
            </dd>
        </div>
    </dd>
</div>
<div class="d-flex mb-3">
    <dt class="mr-2">(B)</dt>
    <dd class="flex-fill m-0">
        <p>
            Organization's number of employees, experience in the field, and resources available to enable it to fulfill
            requirements.
        </p>
        <div class="d-flex">
            <dd class="mr-4">
                <strong>
                    N/A
                </strong>
            </dd>
        </div>
    </dd>
</div>
<div class="d-flex mb-3">
    <dt class="mr-2">(C)</dt>
    <dd class="flex-fill m-0">
        <p>
            Brief history of the Offeror's activities contributing to the development of expertise and capabilities related to this
            requirement.
        </p>
        <div class="d-flex">
            <dd class="mr-4">
                <strong>
                    N/A
                </strong>
            </dd>
        </div>
    </dd>
</div>
<div class="d-flex mb-3">
    <dt class="mr-2">(D)</dt>
    <dd class="flex-fill m-0">
        <p>
            Information that demonstrates the Offeror's organizational and accounting controls. 
        </p>
        <div class="d-flex">
            <dd class="mr-4">
                <strong>
                    N/A
                </strong>
            </dd>
        </div>
    </dd>
</div>
<div class="d-flex mb-3">
    <dt class="mr-2">(E)</dt>
    <dd class="flex-fill m-0">
        <p>
            A description of the resources presently in-house or the ability to acquire the type and kinds of personnel/products proposed. 
        </p>
        <div class="d-flex">
            <dd class="mr-4">
                <strong>
                    N/A
                </strong>
            </dd>
        </div>
    </dd>
</div>
<div class="d-flex mb-3">
    <dt class="mr-2">(F)</dt>
    <dd class="flex-fill m-0">
        <p>
            A description of how the Offeror intends to market the proposed products/services to Federal clients. 
        </p>
        <div class="d-flex">
            <dd class="mr-4">
                <strong>
                    N/A
                </strong>
            </dd>
        </div>
    </dd>
</div>
<div class="d-flex mb-3">
    <dt class="mr-2">(G)</dt>
    <dd class="flex-fill m-0">
        <p>
            A discussion regarding the intended use of subcontractors. 
        </p>
        <div class="d-flex">
            <dd class="mr-4">
                <strong>
                    N/A
                </strong>
            </dd>
        </div>
    </dd>
</div>
</ng-template>


<!-- Edit Section -->
<ng-template #editSection> 
    
    <div class="usa-alert usa-alert--warning mb-4">
        <div class="usa-alert__body">
            <p>
                Briefly Address Each Element Below. (Note: Offerors are required to have a minimum of two years corporate experience in
                order to meet the Corporate Experience requirements. Offers that do not demonstrate two years of corporate experience
                will be rejected.)
            </p>
            <p>
                The maximum permissible limit, across all the sections below is 10,000 characters (max 2 pages).
            </p>
        </div>
    </div>
    <div class="d-flex mb-3">
        <dt class="mr-2">(A)</dt>
        <dd class="flex-fill m-0">
            <div class="form-group">
                <label for="numberOfYearsExperience">
                    The number of years of corporate experience in providing the products/services described under this Schedule, regardless
                    of the specific products/services being proposed - a minimum of two (2) years of corporate experience is required.
                </label>
                <input type="number" class="form-control col-md-1" id="numberOfYearsExperience" name="numberOfYearsExperience"/>
            </div>
        </dd>
    </div>
    <div class="d-flex mb-3">
        <dt class="mr-2">(B)</dt>
        <dd class="flex-fill m-0">
            <div class="form-group">
                <label for="numberOfEmployees">
                    Organization's number of employees, experience in the field, and resources available to enable it to fulfill
                    requirements.
                </label>
                <textarea class="form-control" id="numberOfEmployees" name="numberOfEmployees" rows="3"></textarea>
            </div>
        </dd>
    </div>
    <div class="d-flex mb-3">
        <dt class="mr-2">(C)</dt>
        <dd class="flex-fill m-0">
            <div class="form-group">
                <label for="historyOfActivities">
                    Brief history of the Offeror's activities contributing to the development of expertise and capabilities related to this
                    requirement.
                </label>
                <textarea class="form-control" id="historyOfActivities" name="historyOfActivities" rows="3"></textarea>
            </div>
        </dd>
    </div>
    <div class="d-flex mb-3">
        <dt class="mr-2">(D)</dt>
        <dd class="flex-fill m-0">
            <div class="form-group">
                <label for="accountingControls">
                    Information that demonstrates the Offeror's organizational and accounting controls. 
                </label>
                <textarea class="form-control" id="accountingControls" name="accountingControls" rows="3"></textarea>
            </div>
        </dd>
    </div>
    <div class="d-flex mb-3">
        <dt class="mr-2">(E)</dt>
        <dd class="flex-fill m-0">
            <div class="form-group">
                <label for="abilityToAcquireProducts">
                    A description of the resources presently in-house or the ability to acquire the type and kinds of personnel/products proposed. 
                </label>
                <textarea class="form-control" id="abilityToAcquireProducts" name="abilityToAcquireProducts" rows="3"></textarea>
            </div>
        </dd>
    </div>
    <div class="d-flex mb-3">
        <dt class="mr-2">(F)</dt>
        <dd class="flex-fill m-0">
            <div class="form-group">
                <label for="marketingServices">
                    A description of how the Offeror intends to market the proposed products/services to Federal clients. 
                </label>
                <textarea class="form-control" id="marketingServices" name="marketingServices" rows="3"></textarea>
            </div>
        </dd>
    </div>
    <div class="d-flex mb-3">
        <dt class="mr-2">(G)</dt>
        <dd class="flex-fill m-0">
            <div class="form-group">
                <label for="useOfSubcontractors">
                    A discussion regarding the intended use of subcontractors. 
                </label>
                <textarea class="form-control" id="useOfSubcontractors" name="useOfSubcontractors" rows="3"></textarea>
            </div>
        </dd>
    </div>
    </ng-template>


<!-- Modal Template -->
<app-modal
[config]="{ modalTitle: section.title, showDefaultOpenButton: false, defaultOpenButtonLabel: 'Edit', showDefaultCloseButton: false, modalSize: 'xl' }">
    <ng-template #modalBody>
        <ng-container [ngTemplateOutlet]="editSection"></ng-container>
    </ng-template>
    <ng-template #modalFooter>
        <input type="button" value="Save" id="saveAndContinue" class="btn btn-success btn-lg"
            (click)="saveForm()">
        <input type="button" value="Cancel" id="cancel" class="btn btn-default btn-lg bg-danger-hover" (click)="closeModal()">
    </ng-template>
</app-modal>



<app-modal #modHistoryModal
[config]="{ modalTitle: 'Modifications', showDefaultOpenButton: false, defaultOpenButtonLabel: 'Edit', showDefaultCloseButton: false, modalSize: 'xl' }">
    <ng-template #modalBody>
        <ng-container [ngTemplateOutlet]="viewModHistory"></ng-container>
    </ng-template>
    <ng-template #modalFooter>
        <input type="button" value="Close" id="cancel" class="btn btn-default btn-lg bg-danger-hover" (click)="closeModHistoryModal()">
    </ng-template>
</app-modal>

<ng-template #viewModHistory>
    <h1>Mod History</h1>
</ng-template>